{"version":3,"sources":["layout/Header.jsx","layout/Footer.jsx","components/CardMovie.jsx","components/CardList.jsx","components/Search.jsx","components/Preloader.jsx","components/Pagination.jsx","layout/Main.jsx","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","CardMovie","props","movie","Poster","Title","Type","Year","imdbID","alt","src","CardList","this","movies","map","React","Component","Search","state","search","type","handleChecked","event","setState","target","dataset","length","updateSearch","placeholder","value","minLength","onChange","onKeyDown","key","name","checked","onClick","Preloader","Pagination","onPageChage","page","pages","pagesItems","i","push","API_KEY","process","Main","loading","result","error","updatePage","newPage","console","log","fetch","then","response","ok","json","Promise","reject","data","Boolean","Response","Error","totalResults","parseInt","catch","err","toString","pageCode","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15d75fc4.chunk.js","sourcesContent":["export function Header(){\r\n    return <> \r\n    <nav className=\"green darken-1\">\r\n            <div className=\"nav-wrapper\">\r\n                <a href=\"/react-movies\" className=\"brand-logo\">React Movies</a>\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    <li><a href=\"https://github.com/chertenokru/react-movies\">Repo</a></li>\r\n                   \r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    </>   \r\n    \r\n}\r\n","export function Footer() {\r\n    return <footer className=\"page-footer green lighten-4\">\r\n      \r\n        <div className=\"footer-copyright\">\r\n            <div className=\"container\">\r\n                © 2020 - {new Date().getFullYear()} Copyright Text\r\n                <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/chertenokru/react-movies\">Repo</a>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n\r\n} ","export function CardMovie(props) {\r\n    const {Poster, Title, Type, Year, imdbID} = props.movie;\r\n    return <>\r\n        <div className=\"card horizontal hoverable movie \">\r\n            <div className=\"card-image\">\r\n                {Poster === 'N/A' ?\r\n                    <img alt={Title} src={`https://via.placeholder.com/300x400.png?text=${Title}`}/>\r\n                    : <img alt={Title} src={Poster}/>}\r\n            </div>\r\n            <div className=\"card-stacked\">\r\n                <div className=\"card-content\">\r\n                    <p>\r\n                        <span className=\"green-text text-darken-4 flow-text\">{Title}   </span>\r\n                    </p><br/>\r\n                    <hr/>\r\n                    <p><b>Id:</b> {imdbID}</p>\r\n                    <p><b>Type:</b> {Type}</p>\r\n                    <p><b>Year:</b> {Year}</p>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </>\r\n} ","import React from \"react\";\r\nimport {CardMovie} from \"./CardMovie\";\r\n\r\nexport class CardList extends React.Component {\r\n    \r\n    render() {\r\n        const {movies = []} = this.props;\r\n        return <div className=\"movies\">\r\n            { \r\n                movies.map(movie => <CardMovie key={movie.imdbID} movie={movie}/>)            \r\n            }\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport class Search extends React.Component {\r\n  \r\n        state = {\r\n            search: this.props.search,\r\n            type: this.props.type\r\n        }\r\n\r\n    \r\n    \r\n    handleChecked = (event) => {\r\n        this.setState({type: event.target.dataset.type},\r\n            ()=>{\r\n            if (this.state.search.length>1)\r\n                this.props.updateSearch(this.state.search,this.state.type)\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"row\">\r\n            <div className=\"col s12\">\r\n                <div className=\"input-field \">\r\n                    \r\n                        <input\r\n                            className=\"validate\"\r\n                            placeholder='type english part name to search...'\r\n                            type=\"search\"\r\n                            value={this.state.search}\r\n                            minLength=\"1\"\r\n                            onChange={event => this.setState({'search': event.target.value})}\r\n                            onKeyDown={event =>{ if (event.key === 'Enter') this.props.updateSearch(this.state.search,this.state.type)} }\r\n                        />\r\n                        <div className=\"searchRadio\">\r\n                            <label ><input className=\"with-gap\" type=\"radio\" name='type' data-type='all' \r\n                                          checked={this.state.type==='all'}\r\n                                          onChange={this.handleChecked}/>\r\n                                <span>All</span></label>\r\n                            <label><input className=\"with-gap\" type='radio' name='type' data-type='series'\r\n                                          checked={this.state.type==='series'}\r\n                                          onChange={this.handleChecked}/>\r\n                                <span>Series</span></label>\r\n                            <label><input className=\"with-gap\" type='radio' name='type' data-type='movie'\r\n                                          checked={this.state.type==='movie'}\r\n                                          onChange={this.handleChecked}/>\r\n                                <span>Movie</span></label>\r\n                            <label><input className=\"with-gap\" type='radio' name='type' data-type='game'\r\n                                          checked={this.state.type==='game'}\r\n                                          onChange={this.handleChecked}/>\r\n                                <span >Game</span></label>\r\n                        </div>\r\n                        <button className=\"btn waves-effect waves-light search green darken-1\" onClick={event => {\r\n                            this.props.updateSearch(this.state.search,this.state.type)\r\n                        }}>Search\r\n                        </button>\r\n\r\n                    \r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}","export function Preloader(){\r\n    return    <div className=\"preloader-wrapper big active\">\r\n        <div className=\"spinner-layer spinner-green-only\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            <div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            <div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n} ","export function Pagination(props) {\r\n    const {onPageChage, page = 1, pages = 1} = props;\r\n    let pagesItems = [];\r\n    for (let i = 1; i < pages+1; i++) {\r\n        pagesItems.push(\r\n            <li key={i} className={page === i ? \"active green darken-1\" : \"waves-effect\"} onClick={()=>onPageChage(i)}><a href=\"#!\">{i}</a></li>\r\n        );\r\n    }\r\n\r\n    return <ul className=\"pagination\">\r\n        {pagesItems}\r\n    </ul>\r\n}","import {CardList} from \"../components/CardList\";\r\nimport {Search} from \"../components/Search\";\r\nimport React from \"react\";\r\nimport {Preloader} from \"../components/Preloader\";\r\nimport {Pagination} from \"../components/Pagination\";\r\n\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nexport class Main extends React.Component {\r\n\r\n    state = {\r\n        movies: [],\r\n        loading: false,\r\n        result: false,\r\n        error: '',\r\n        pages: 0,\r\n        page: 1,\r\n        search: '',\r\n        type: 'all'\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateSearch('dune');\r\n    }\r\n\r\n    updatePage = (newPage) => {\r\n        this.updateSearch(this.state.search, this.state.type, newPage)\r\n    }\r\n\r\n    updateSearch = (search = '', type = 'all', page = 1) => {\r\n\r\n        if (search.length < 3) {\r\n\r\n            this.setState({\r\n                loading: false,\r\n                result: false,\r\n                error: 'Строка для поиска должна быть от 3х символов',\r\n                pages: 0,\r\n                page: page ? 1 : page,\r\n                search: search,\r\n                type: type\r\n            });\r\n            console.log(search.length);\r\n            return;\r\n        }\r\n        this.setState({\r\n            loading: true,\r\n            result: false,\r\n            error: '',\r\n            pages: 0,\r\n            page: page,\r\n            search: search,\r\n            type: type\r\n        }, () => {\r\n            fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=${search}&page=${page}${type !== 'all' ? `&type=${type}` : ''}`)\r\n                .then(response => response.ok ? response.json():Promise.reject(response))\r\n                .then(data => this.setState({\r\n                    movies: data.Search, loading: false, result: Boolean(data.Response),\r\n                    error: data.Error, pages: data.totalResults ? parseInt(data.totalResults / 10) + 1 : 1\r\n                }))\r\n                .catch(err => this.setState({movies: [], loading: false, result: false, error: err.toString(), pages: 1}));\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const {loading, pages, page, error, result, movies, search, type} = this.state;\r\n        const pageCode = pages > 1 ? <Pagination page={page} pages={pages} onPageChage={this.updatePage}/> : '';\r\n        return <main className=\"container content\">\r\n\r\n            {loading ? <Preloader/> : <Search updateSearch={this.updateSearch} search={search} type={type}/>}\r\n            {pageCode}\r\n            {result === true && !loading ?\r\n                <CardList movies={movies}/> : ''\r\n            }\r\n            {result === false && !loading ? (\r\n                <div className=\"errorText\">\r\n                    <h4>Ошибка:</h4>\r\n                    <h5>{error}</h5>\r\n                </div>\r\n            ) : ''\r\n            }\r\n            {pageCode}\r\n\r\n\r\n        </main>\r\n    }\r\n}","import {Header} from \"./layout/Header\";\r\nimport {Footer} from \"./layout/Footer\";\r\nimport {Main} from \"./layout/Main\";\r\n\r\nfunction App() {\r\n    return (\r\n        <>\r\n            <Header/>\r\n            \r\n            <Main/>\r\n            <Footer/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css'\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}